{
    "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "location": {
            "type": "string",
            "defaultValue": ""
        },
        "resourcegroup": {
            "type": "string",
            "defaultValue": ""
        },
        "subscriptionId": {
            "type": "string",
            "defaultValue": ""
        },
        "workspace": {
            "type": "string",
            "defaultValue": ""
        },
        "workspaceapiversion": {
            "type": "string",
            "defaultValue": ""
        }
    },
    "resources": [
        {
            "apiVersion": "[parameters('workspaceapiversion')]",
            "name": "[parameters('workspace')]",
            "type": "Microsoft.OperationalInsights/workspaces",
            "location": "[parameters('location')]",
            "id": "[Concat('/subscriptions/', parameters('subscriptionId'), '/resourceGroups/', parameters('resourcegroup'), '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]",
            "resources": [
                {
                    "apiVersion": "2015-11-01-preview",
                    "name": "Amazon Redshift Environment",
                    "type": "views",
                    "location": "[parameters('location')]",
                    "id": "[Concat('/subscriptions/', parameters('subscriptionId'), '/resourceGroups/', parameters('resourcegroup'), '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'),'/views/Amazon Redshift Environment')]",
                    "dependson": [
                        "[Concat('/subscriptions/', parameters('subscriptionId'), '/resourceGroups/', parameters('resourcegroup'), '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]"
                    ],
                    "properties": {
                        "Id": "Amazon Redshift Environment",
                        "Name": "Amazon Redshift Environment",
                        "Author": "service.azure@bluemedora.com",
                        "Source": "Local",
                        "Version": 2,
                        "Dashboard": [
                            {
                                "Id": "InformationBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "Title": "Redshift Overview",
                                        "NewGroup": false,
                                        "Color": "#0072c6"
                                    },
                                    "Header": {
                                        "Image": "data:image/png;base64,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",
                                        "Label": "Amazon Redshift",
                                        "Link": {
                                            "Label": "More info",
                                            "Url": "https://docs.bindplane.bluemedora.com/docs/redshift"
                                        }
                                    },
                                    "List": [
                                        {
                                            "Title": "Overview",
                                            "Content": "Amazon Redshift is a fully managed, cloud hosted data warehouse."
                                        },
                                        {
                                            "Title": "Key Performance Indicators",
                                            "Content": "In Amazon Redshift, it's important to monitor the assigned health value of a cluster. This value is based on a regularly polling query. If that query fails, the cluster is considered unhealthy at that time.\n\nFor each node in a Redshift cluster, it's important to monitor CPU, IOPS, and latency. These metrics help to determine if nodes should be upgraded or added to the cluster."
                                        }
                                    ]
                                }
                            },
                            {
                                "Id": "TwoNumberTileListBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Cluster Health",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Tile": {
                                        "Legend": "Healthy Clusters",
                                        "Query": "amazon_redshift_cluster_CL | where ${Cluster} | summarize avg(healthy_d) by amazon_redshift_cluster_name_s | where avg_healthy_d == 1 | count"
                                    },
                                    "SecondTile": {
                                        "Legend": "Unhealthy Clusters",
                                        "Query": "amazon_redshift_cluster_CL | where ${Cluster} | summarize avg(healthy_d) by amazon_redshift_cluster_name_s | where avg_healthy_d != 1 | count"
                                    },
                                    "List": {
                                        "Query": "amazon_redshift_cluster_CL | where ${Cluster} | summarize health=avg(healthy_d) * 100 by amazon_redshift_cluster_name_s | order by health desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Cluster",
                                            "Value": "Health"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": false,
                                            "values": [
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "60",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Error",
                                                    "threshold": "90",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    },
                                    "Blade": {
                                        "NavigationSelect": {}
                                    }
                                }
                            },
                            {
                                "Id": "LineChartCalloutStackedBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Cluster Performance",
                                        "newGroup": false
                                    },
                                    "charts": [
                                        {
                                            "Header": {
                                                "Title": "Total Cluster IOPS",
                                                "Subtitle": ""
                                            },
                                            "LineChart": {
                                                "Query": "amazon_redshift_cluster_CL | where ${Cluster} | summarize avg(read_iops_d+write_iops_d) by amazon_redshift_cluster_name_s",
                                                "yAxis": {
                                                    "isLogarithmic": false,
                                                    "units": {
                                                        "baseUnitType": "",
                                                        "baseUnit": "",
                                                        "displayUnit": ""
                                                    },
                                                    "customLabel": "IOPS"
                                                },
                                                "NavigationSelect": {}
                                            }
                                        },
                                        {
                                            "Header": {
                                                "Title": "Total Cluster Latency",
                                                "Subtitle": ""
                                            },
                                            "LineChart": {
                                                "Query": "amazon_redshift_cluster_CL | where ${Cluster} | summarize avg(read_latency_d+write_latency_d) by amazon_redshift_cluster_name_s",
                                                "yAxis": {
                                                    "isLogarithmic": false,
                                                    "units": {
                                                        "baseUnitType": "TimeRange",
                                                        "baseUnit": "Seconds",
                                                        "displayUnit": "Seconds"
                                                    },
                                                    "customLabel": "Latency"
                                                },
                                                "NavigationSelect": {}
                                            }
                                        },
                                        {
                                            "Header": {
                                                "Title": "Total Cluster Throughput",
                                                "Subtitle": ""
                                            },
                                            "LineChart": {
                                                "Query": "amazon_redshift_cluster_CL | where ${Cluster} | summarize avg(read_throughput_d+write_throughput_d) by amazon_redshift_cluster_name_s",
                                                "yAxis": {
                                                    "isLogarithmic": false,
                                                    "units": {
                                                        "baseUnitType": "Bits",
                                                        "baseUnit": "Bytes",
                                                        "displayUnit": "Bytes"
                                                    },
                                                    "customLabel": "Throughput"
                                                },
                                                "NavigationSelect": {}
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node CPU",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "CPU Utilization",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "amazon_redshift_node_CL | where ${Cluster} and ${Node} | summarize avg(cpu_utilization_d) by amazon_redshift_node_name_s | order by avg_cpu_utilization_d desc",
                                        "Callout": {
                                            "Title": "Avg per hour",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "Percentage",
                                                "baseUnit": "ZeroToOne",
                                                "displayUnit": "ZeroToOne"
                                            },
                                            "customLabel": "CPU"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "amazon_redshift_node_CL | where ${Cluster} and ${Node} | summarize avg(cpu_utilization_d) by amazon_redshift_node_name_s | order by avg_cpu_utilization_d desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Type",
                                            "Value": "Count"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": false,
                                            "values": [
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "60",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Error",
                                                    "threshold": "90",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    }
                                }
                            },
                            {
                                "Id": "LineChartCalloutStackedBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node Performance",
                                        "newGroup": false
                                    },
                                    "charts": [
                                        {
                                            "Header": {
                                                "Title": "Total Node IOPS",
                                                "Subtitle": ""
                                            },
                                            "LineChart": {
                                                "Query": "amazon_redshift_node_CL | where ${Cluster} and ${Node} | summarize avg(write_iops_d + read_iops_d) by amazon_redshift_node_name_s",
                                                "yAxis": {
                                                    "isLogarithmic": false,
                                                    "units": {
                                                        "baseUnitType": "",
                                                        "baseUnit": "",
                                                        "displayUnit": ""
                                                    },
                                                    "customLabel": "IOPS"
                                                },
                                                "NavigationSelect": {}
                                            }
                                        },
                                        {
                                            "Header": {
                                                "Title": "Total Node Latency",
                                                "Subtitle": ""
                                            },
                                            "LineChart": {
                                                "Query": "amazon_redshift_node_CL | where ${Cluster} and ${Node} | summarize avg(write_latency_d + read_latency_d) by amazon_redshift_node_name_s",
                                                "yAxis": {
                                                    "isLogarithmic": false,
                                                    "units": {
                                                        "baseUnitType": "TimeRange",
                                                        "baseUnit": "Seconds",
                                                        "displayUnit": "Seconds"
                                                    },
                                                    "customLabel": "Latency"
                                                },
                                                "NavigationSelect": {}
                                            }
                                        },
                                        {
                                            "Header": {
                                                "Title": "Total Node Throughput",
                                                "Subtitle": ""
                                            },
                                            "LineChart": {
                                                "Query": "amazon_redshift_node_CL | where ${Cluster} and ${Node} | summarize avg(write_throughput_d + read_throughput_d) by amazon_redshift_node_name_s",
                                                "yAxis": {
                                                    "isLogarithmic": false,
                                                    "units": {
                                                        "baseUnitType": "Bits",
                                                        "baseUnit": "Bytes",
                                                        "displayUnit": "Bytes"
                                                    },
                                                    "customLabel": "Throughput"
                                                },
                                                "NavigationSelect": {}
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                "Id": "NotableQueriesBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Additional Info",
                                        "newGroup": false,
                                        "preselectedFilters": "Type, Computer",
                                        "renderMode": "grid"
                                    },
                                    "queries": [
                                        {
                                            "query": "amazon_redshift_cluster_CL | distinct amazon_redshift_cluster_name_s, availability_zone_s, encrypted_d, allow_version_upgrade_d, publicly_accessible_d, revision_number_s, maintenance_mode_d, create_time_s, cluster_endpoint_s",
                                            "displayName": "Cluster Configuration"
                                        },
                                        {
                                            "query": "amazon_redshift_cluster_CL | join kind= inner ( amazon_redshift_cluster_CL | summarize TimeGenerated=max(TimeGenerated) by amazon_redshift_cluster_name_s ) on TimeGenerated, amazon_redshift_cluster_name_s | project amazon_redshift_cluster_name_s, cluster_status_s",
                                            "displayName": "Cluster Status"
                                        },
                                        {
                                            "query": "amazon_redshift_cluster_CL | join kind= inner ( amazon_redshift_cluster_CL | summarize TimeGenerated=max(TimeGenerated) by amazon_redshift_cluster_name_s ) on TimeGenerated, amazon_redshift_cluster_name_s | project amazon_redshift_cluster_name_s, cluster_tags_s",
                                            "displayName": "Cluster Tags"
                                        },
                                        {
                                            "query": "amazon_redshift_node_CL | join kind= inner ( amazon_redshift_node_CL | summarize TimeGenerated=max(TimeGenerated) by amazon_redshift_node_name_s ) on TimeGenerated, amazon_redshift_node_name_s | project amazon_redshift_node_name_s, public_ip_address_s, private_ip_address_s",
                                            "displayName": "Node Location"
                                        },
                                        {
                                            "query": "amazon_redshift_node_CL | join kind= inner ( amazon_redshift_node_CL | summarize TimeGenerated=max(TimeGenerated) by amazon_redshift_node_name_s ) on TimeGenerated, amazon_redshift_node_name_s | project amazon_redshift_node_name_s, node_role_s",
                                            "displayName": "Node Role"
                                        },
                                        {
                                            "query": "amazon_redshift_node_CL | join kind= inner ( amazon_redshift_node_CL | summarize TimeGenerated=max(TimeGenerated) by amazon_redshift_node_name_s ) on TimeGenerated, amazon_redshift_node_name_s | project amazon_redshift_node_name_s, percentage_disk_space_used_d ",
                                            "displayName": "Node Disk Space"
                                        }
                                    ]
                                }
                            }
                        ],
                        "Filters": [
                            {
                                "FieldName": "amazon_redshift_cluster_name_s",
                                "QueryForValues": "amazon_redshift_cluster_CL | distinct amazon_redshift_cluster_name_s",
                                "Title": "Cluster"
                            },
                            {
                                "FieldName": "amazon_redshift_node_name_s",
                                "QueryForValues": "amazon_redshift_node_CL | distinct amazon_redshift_node_name_s",
                                "Title": "Node"
                            }
                        ],
                        "OverviewTile": {
                            "Id": "LineChartCalloutBuilderTile",
                            "Type": "OverviewTile",
                            "Version": 2,
                            "Configuration": {
                                "LineChart": {
                                    "Query": "amazon_redshift_cluster_CL | summarize avg(database_connections_d) by amazon_redshift_cluster_name_s",
                                    "Callout": {
                                        "Title": "Average Connections",
                                        "Series": "",
                                        "Operation": "Average"
                                    },
                                    "yAxis": {
                                        "isLogarithmic": false,
                                        "units": {
                                            "baseUnitType": "",
                                            "baseUnit": "",
                                            "displayUnit": ""
                                        },
                                        "customLabel": "Connections"
                                    }
                                },
                                "Advanced": {
                                    "DataFlowVerification": {
                                        "Enabled": false,
                                        "Query": "search * | limit 1 | project TimeGenerated",
                                        "Message": ""
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        }
    ]
}