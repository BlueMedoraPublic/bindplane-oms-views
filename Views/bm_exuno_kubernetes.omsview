
{
    "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "location": {
            "type": "string",
            "defaultValue": ""
        },
        "resourcegroup": {
            "type": "string",
            "defaultValue": ""
        },
        "subscriptionId": {
            "type": "string",
            "defaultValue": ""
        },
        "workspace": {
            "type": "string",
            "defaultValue": ""
        },
        "workspaceapiversion": {
            "type": "string",
            "defaultValue": ""
        }
    },
    "resources": [
        {
            "apiVersion": "[parameters('workspaceapiversion')]",
            "name": "[parameters('workspace')]",
            "type": "Microsoft.OperationalInsights/workspaces",
            "location": "[parameters('location')]",
            "id": "[Concat('/subscriptions/', parameters('subscriptionId'), '/resourceGroups/', parameters('resourcegroup'), '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]",
            "resources": [
                {
                    "apiVersion": "2015-11-01-preview",
                    "name": "Kubernetes Environment",
                    "type": "views",
                    "location": "[parameters('location')]",
                    "id": "[Concat('/subscriptions/', parameters('subscriptionId'), '/resourceGroups/', parameters('resourcegroup'), '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'),'/views/Kubernetes Environment')]",
                    "dependson": [
                        "[Concat('/subscriptions/', parameters('subscriptionId'), '/resourceGroups/', parameters('resourcegroup'), '/providers/Microsoft.OperationalInsights/workspaces/', parameters('workspace'))]"
                    ],
                    "properties": {
                        "Id": "Kubernetes Environment",
                        "Name": "Kubernetes Environment",
                        "Author": "service.azure@bluemedora.com",
                        "Source": "Local",
                        "Version": 2,
                        "Dashboard": [
                            {
                                "Id": "InformationBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "Title": "Kubernetes Overview",
                                        "NewGroup": false,
                                        "Color": "#0072c6"
                                    },
                                    "Header": {
                                        "Image": "data:image/png;base64,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",
                                        "Label": "Kubernetes",
                                        "Link": {
                                            "Label": "More info",
                                            "Url": "https://bindplane.bluemedora.com"
                                        }
                                    },
                                    "List": [
                                        {
                                            "Title": "Overview",
                                            "Content": "Kubernetes is a portable, extensible open-source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes services, support, and tools are widely available."
                                        },
                                        {
                                            "Title": "Key Performance Indicators",
                                            "Content": "In Kubernetes, it is important to monitor the runtime resources of each node and its pods in each cluster. This will help determine if the environment is provisioned appropriately for the containerized workloads.\n\nExamples of container runtime resources are CPU and memory usage."
                                        }
                                    ]
                                }
                            },
                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node Health",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "Health Score",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node}  | project ['CPU Usage Ratio'] = columnifexists('cpu_usage_ratio_d', double(null)), ['Memory Usage Ratio'] = columnifexists('memory_usage_ratio_d', double(null)), ['Failed Pod Count'] = columnifexists('failed_pod_count_d', double(null)), TimeGenerated, Name=kubernetes_node_name_s  | extend Healthy = case(isnotnull(['CPU Usage Ratio']) or isnotnull(['Memory Usage Ratio']) or isnotnull(['Failed Pod Count']), (['CPU Usage Ratio'] < 95 or isnull(['CPU Usage Ratio'])) and (['Memory Usage Ratio'] < 95 or isnull(['Memory Usage Ratio'])) and (['Failed Pod Count'] <= 0 or isnull(['Failed Pod Count'])), bool(null)) | where isnotnull(Healthy) | summarize HealthScore = avg(Healthy) * 100 by Name",
                                        "Callout": {
                                            "Title": "Average Health",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "",
                                                "baseUnit": "",
                                                "displayUnit": ""
                                            },
                                            "customLabel": "Percent"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node}  | project ['CPU Usage Ratio'] = columnifexists('cpu_usage_ratio_d', double(null)), ['Memory Usage Ratio'] = columnifexists('memory_usage_ratio_d', double(null)), ['Failed Pod Count'] = columnifexists('failed_pod_count_d', double(null)), TimeGenerated, Name=kubernetes_node_name_s  | extend Healthy = case(isnotnull(['CPU Usage Ratio']) or isnotnull(['Memory Usage Ratio']) or isnotnull(['Failed Pod Count']), (['CPU Usage Ratio'] < 95 or isnull(['CPU Usage Ratio'])) and (['Memory Usage Ratio'] < 95 or isnull(['Memory Usage Ratio'])) and (['Failed Pod Count'] <= 0 or isnull(['Failed Pod Count'])), bool(null)) | summarize HealthScore = case(isnan(avg(Healthy)), -1.0, avg(Healthy) * 100) by Name | order by HealthScore asc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Node Name",
                                            "Value": "Health Score"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": true,
                                            "values": [
                                                {
                                                    "name": "Unknown",
                                                    "threshold": "Default",
                                                    "color": "#002050",
                                                    "isDefault": true
                                                },
                                                {
                                                    "name": "A",
                                                    "threshold": "90",
                                                    "color": "#009e49",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "B",
                                                    "threshold": "80",
                                                    "color": "#55d455",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "C",
                                                    "threshold": "70",
                                                    "color": "#bad80a",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "D",
                                                    "threshold": "60",
                                                    "color": "#fff100",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "E",
                                                    "threshold": "50",
                                                    "color": "#ff8c00",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "F",
                                                    "threshold": "-1",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "kubernetes_node_CL | project ['CPU Usage Ratio'] = columnifexists('cpu_usage_ratio_d', double(null)), ['Memory Usage Ratio'] = columnifexists('memory_usage_ratio_d', double(null)), ['Failed Pod Count'] = columnifexists('failed_pod_count_d', double(null)), TimeGenerated, Name=kubernetes_node_name_s  | where {selected item}  | summarize arg_max(TimeGenerated, *) by Name | extend Healthy = case(isnotnull(['CPU Usage Ratio']) or isnotnull(['Memory Usage Ratio']) or isnotnull(['Failed Pod Count']), (['CPU Usage Ratio'] < 95 or isnull(['CPU Usage Ratio'])) and (['Memory Usage Ratio'] < 95 or isnull(['Memory Usage Ratio'])) and (['Failed Pod Count'] <= 0 or isnull(['Failed Pod Count'])), bool(null))",
                                        "NavigationSelect": {
                                            "NavigationQuery": "kubernetes_node_CL | project ['CPU Usage Ratio'] = columnifexists('cpu_usage_ratio_d', double(null)), ['Memory Usage Ratio'] = columnifexists('memory_usage_ratio_d', double(null)), ['Failed Pod Count'] = columnifexists('failed_pod_count_d', double(null)), TimeGenerated, Name=kubernetes_node_name_s  | where {selected item}  | summarize arg_max(TimeGenerated, *) by Name | extend Healthy = case(isnotnull(['CPU Usage Ratio']) or isnotnull(['Memory Usage Ratio']) or isnotnull(['Failed Pod Count']), (['CPU Usage Ratio'] < 95 or isnull(['CPU Usage Ratio'])) and (['Memory Usage Ratio'] < 95 or isnull(['Memory Usage Ratio'])) and (['Failed Pod Count'] <= 0 or isnull(['Failed Pod Count'])), bool(null))"
                                        }
                                    }
                                }
                            },

                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node CPU Usage Ratio",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "CPU Usage Ratio",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('cpu_usage_ratio_d',0.0), 0.0)) by kubernetes_node_name_s",
                                        "Callout": {
                                            "Title": "Average CPU Usage Ratio",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "",
                                                "baseUnit": "",
                                                "displayUnit": ""
                                            },
                                            "customLabel": "Percent"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "kubernetes_node_CL  | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('cpu_usage_ratio_d',0.0), 0.0)) by kubernetes_node_name_s | order by avg_ desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Node",
                                            "Value": "CPU Usage Ratio"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": true,
                                            "values": [
                                                {
                                                    "name": "Error",
                                                    "threshold": "95.0",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "85.0",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    }
                                }
                            }
,
                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node Memory Usage Ratio",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "Memory Usage Ratio",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('memory_usage_ratio_d',0.0), 0.0)) by kubernetes_node_name_s",
                                        "Callout": {
                                            "Title": "Average Memory Usage Ratio",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "",
                                                "baseUnit": "",
                                                "displayUnit": ""
                                            },
                                            "customLabel": "Percent"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "kubernetes_node_CL  | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('memory_usage_ratio_d',0.0), 0.0)) by kubernetes_node_name_s | order by avg_ desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Node",
                                            "Value": "Memory Usage Ratio"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": true,
                                            "values": [
                                                {
                                                    "name": "Error",
                                                    "threshold": "95.0",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "85.0",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    }
                                }
                            }
,
                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node Received Data",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "Received Data",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('received_data_rate_d',0.0), 0.0)) by kubernetes_node_name_s",
                                        "Callout": {
                                            "Title": "Average Received Data",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "",
                                                "baseUnit": "",
                                                "displayUnit": ""
                                            },
                                            "customLabel": "Bytes per Second"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "kubernetes_node_CL  | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('received_data_rate_d',0.0), 0.0)) by kubernetes_node_name_s | order by avg_ desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Node",
                                            "Value": "Received Data"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": false,
                                            "values": [
                                                {
                                                    "name": "Error",
                                                    "threshold": "90",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "0",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    }
                                }
                            }
,
                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node Transmitted Data",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "Transmitted Data",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('transmitted_data_rate_d',0.0), 0.0)) by kubernetes_node_name_s",
                                        "Callout": {
                                            "Title": "Average Transmitted Data",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "",
                                                "baseUnit": "",
                                                "displayUnit": ""
                                            },
                                            "customLabel": "Bytes per Second"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "kubernetes_node_CL  | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('transmitted_data_rate_d',0.0), 0.0)) by kubernetes_node_name_s | order by avg_ desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Node",
                                            "Value": "Transmitted Data"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": false,
                                            "values": [
                                                {
                                                    "name": "Error",
                                                    "threshold": "90",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "0",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    }
                                }
                            }
,
                            {
                                "Id": "LineChartCalloutBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Node Used Space Ratio",
                                        "newGroup": false,
                                        "icon": "",
                                        "useIcon": false
                                    },
                                    "Header": {
                                        "Title": "Used Space Ratio",
                                        "Subtitle": ""
                                    },
                                    "LineChart": {
                                        "Query": "kubernetes_node_CL | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('used_space_ratio_d',0.0), 0.0)) by kubernetes_node_name_s",
                                        "Callout": {
                                            "Title": "Average Used Space Ratio",
                                            "Series": "",
                                            "Operation": "Average"
                                        },
                                        "yAxis": {
                                            "isLogarithmic": false,
                                            "units": {
                                                "baseUnitType": "",
                                                "baseUnit": "",
                                                "displayUnit": ""
                                            },
                                            "customLabel": "Percent"
                                        },
                                        "NavigationSelect": {}
                                    },
                                    "List": {
                                        "Query": "kubernetes_node_CL  | where ${Operating System} and ${Architecture} and ${Node} | summarize avg(coalesce(columnifexists('used_space_ratio_d',0.0), 0.0)) by kubernetes_node_name_s | order by avg_ desc",
                                        "HideGraph": false,
                                        "enableSparklines": true,
                                        "operation": "Last Sample",
                                        "ColumnsTitle": {
                                            "Name": "Node",
                                            "Value": "Used Space Ratio"
                                        },
                                        "Color": "#0072c6",
                                        "thresholds": {
                                            "isEnabled": false,
                                            "values": [
                                                {
                                                    "name": "Error",
                                                    "threshold": "90",
                                                    "color": "#ba141a",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Warning",
                                                    "threshold": "0",
                                                    "color": "#fcd116",
                                                    "isDefault": false
                                                },
                                                {
                                                    "name": "Normal",
                                                    "threshold": "Default",
                                                    "color": "#009e49",
                                                    "isDefault": true
                                                }
                                            ]
                                        },
                                        "NameDSVSeparator": "",
                                        "NavigationQuery": "search {selected item} | sort by TimeGenerated desc",
                                        "NavigationSelect": {
                                            "NavigationQuery": "search {selected item} | sort by TimeGenerated desc"
                                        }
                                    }
                                }
                            }
,
                            {
                                "Id": "NotableQueriesBuilderBlade",
                                "Type": "Blade",
                                "Version": 0,
                                "Configuration": {
                                    "General": {
                                        "title": "Additional Info",
                                        "newGroup": false,
                                        "preselectedFilters": "Type, Computer",
                                        "renderMode": "grid"
                                    },
                                    "queries": [

                                        {
                                            "query": "kubernetes_node_CL | summarize([\"Last Update Time\"], ['CPU Usage Ratio'])=arg_max(TimeGenerated,columnifexists('cpu_usage_ratio_d', '')) by Name=kubernetes_node_name_s",
                                            "displayName": "Node CPU"
                                        }
                                        ,{
                                            "query": "kubernetes_node_CL | summarize([\"Last Update Time\"], ['Memory Usage Ratio'])=arg_max(TimeGenerated,columnifexists('memory_usage_ratio_d', '')) by Name=kubernetes_node_name_s",
                                            "displayName": "Node Memory"
                                        }
                                        ,{
                                            "query": "kubernetes_node_CL | summarize([\"Last Update Time\"], ['Received Data'], ['Transmitted Data'])=arg_max(TimeGenerated,columnifexists('received_data_rate_d', ''),columnifexists('transmitted_data_rate_d', '')) by Name=kubernetes_node_name_s",
                                            "displayName": "Node Network"
                                        }
                                        ,{
                                            "query": "kubernetes_node_CL | summarize([\"Last Update Time\"], ['Used Space Ratio'])=arg_max(TimeGenerated,columnifexists('used_space_ratio_d', '')) by Name=kubernetes_node_name_s",
                                            "displayName": "Node Filesystem"
                                        }
                                        ,{
                                            "query": "kubernetes_node_CL | summarize([\"Last Update Time\"], ['Failed Pod Count'])=arg_max(TimeGenerated,columnifexists('failed_pod_count_d', '')) by Name=kubernetes_node_name_s",
                                            "displayName": "Node Pod Summary"
                                        }
                                        ,{
                                            "query": "kubernetes_node_CL | summarize([\"Last Update Time\"], ['Architecture'], ['External IP'], ['Hostname'], ['Internal IP'], ['Is Master'], ['Kubelet Version'], ['Operating System'])=arg_max(TimeGenerated,columnifexists('architecture_s', ''),columnifexists('external_ip_s', ''),columnifexists('hostname_s', ''),columnifexists('internal_ip_s', ''),columnifexists('is_master_d', ''),columnifexists('kubelet_version_s', ''),columnifexists('operating_system_s', '')) by Name=kubernetes_node_name_s",
                                            "displayName": "Node Properties"
                                        }
                                        ,{
                                            "query": "kubernetes_pod_CL | summarize([\"Last Update Time\"], ['Restart Count'])=arg_max(TimeGenerated,columnifexists('restart_count_d', '')) by Name=kubernetes_pod_name_s",
                                            "displayName": "Pod Status"
                                        }
                                        ,{
                                            "query": "kubernetes_pod_CL | summarize([\"Last Update Time\"], ['CPU Usage'])=arg_max(TimeGenerated,columnifexists('cpu_usage_d', '')) by Name=kubernetes_pod_name_s",
                                            "displayName": "Pod CPU"
                                        }
                                        ,{
                                            "query": "kubernetes_pod_CL | summarize([\"Last Update Time\"], ['Memory Usage'])=arg_max(TimeGenerated,columnifexists('memory_usage_d', '')) by Name=kubernetes_pod_name_s",
                                            "displayName": "Pod Memory"
                                        }
                                        ,{
                                            "query": "kubernetes_pod_CL | summarize([\"Last Update Time\"], ['Used Ephemeral Space Ratio'])=arg_max(TimeGenerated,columnifexists('used_ephemeral_space_ratio_d', '')) by Name=kubernetes_pod_name_s",
                                            "displayName": "Pod Disk"
                                        }
                                        ,{
                                            "query": "kubernetes_pod_CL | summarize([\"Last Update Time\"], ['Component'], ['DNS Policy'], ['Host IP Address'], ['Pod IP Address'], ['QoS Class'], ['Restart Policy'])=arg_max(TimeGenerated,columnifexists('component_s', ''),columnifexists('dns_policy_s', ''),columnifexists('host_ip_address_s', ''),columnifexists('pod_ip_address_s', ''),columnifexists('qos_class_s', ''),columnifexists('restart_policy_s', '')) by Name=kubernetes_pod_name_s",
                                            "displayName": "Pod Properties"
                                        }
                                        ,{
                                            "query": "kubernetes_volume_CL | summarize([\"Last Update Time\"], ['Type'])=arg_max(TimeGenerated,columnifexists('type_s', '')) by Name=kubernetes_volume_name_s",
                                            "displayName": "Volume Properties"
                                        }
                                    ]
                                }
                            }
                        ],
                        "Filters": [{
                            "FieldName": "operating_system_s",
                            "QueryForValues": "kubernetes_node_CL | distinct operating_system_s",
                            "Title": "Operating System"
                          },{
                            "FieldName": "architecture_s",
                            "QueryForValues": "kubernetes_node_CL | distinct architecture_s",
                            "Title": "Architecture"
                          },{
                            "FieldName": "kubernetes_node_name_s",
                            "QueryForValues": "kubernetes_node_CL | distinct kubernetes_node_name_s",
                            "Title": "Node"
                          },{
                            "FieldName": "phase_s",
                            "QueryForValues": "kubernetes_pod_CL | distinct phase_s",
                            "Title": "Phase"
                          },{
                            "FieldName": "component_s",
                            "QueryForValues": "kubernetes_pod_CL | distinct component_s",
                            "Title": "Component"
                          },{
                            "FieldName": "kubernetes_pod_name_s",
                            "QueryForValues": "kubernetes_pod_CL | distinct kubernetes_pod_name_s",
                            "Title": "Pod"
                          },{
                            "FieldName": "kubernetes_volume_name_s",
                            "QueryForValues": "kubernetes_volume_CL | distinct kubernetes_volume_name_s",
                            "Title": "Volume"
                          },{
                            "FieldName": "kubernetes_cluster_name_s",
                            "QueryForValues": "kubernetes_cluster_CL | distinct kubernetes_cluster_name_s",
                            "Title": "Cluster"
                          }],
                        "OverviewTile": {
                            "Id": "SingleQueryDonutBuilderTileV1",
                            "Type": "OverviewTile",
                            "Version": 2,
                            "Configuration": {
                                "Donut": {
                                    "Query": "kubernetes_node_CL | project ['CPU Usage Ratio'] = columnifexists('cpu_usage_ratio_d', double(null)), ['Memory Usage Ratio'] = columnifexists('memory_usage_ratio_d', double(null)), ['Failed Pod Count'] = columnifexists('failed_pod_count_d', double(null)), TimeGenerated, Name=kubernetes_node_name_s  | extend Healthy = case(isnotnull(['CPU Usage Ratio']) or isnotnull(['Memory Usage Ratio']) or isnotnull(['Failed Pod Count']), (['CPU Usage Ratio'] < 95 or isnull(['CPU Usage Ratio'])) and (['Memory Usage Ratio'] < 95 or isnull(['Memory Usage Ratio'])) and (['Failed Pod Count'] <= 0 or isnull(['Failed Pod Count'])), bool(null)) | where isnotnull(Healthy) | summarize HealthScore = avg(Healthy) * 100 by Name | summarize count() by case(HealthScore < 50, 'Critical', HealthScore < 70, 'Warning', isnull(HealthScore) or isnan(HealthScore), 'Unknown', 'Healthy')",
                                    "CenterLegend": {
                                        "Text": "Node",
                                        "Operation": "Sum",
                                        "ArcsToSelect": []
                                    },
                                    "Options": {
                                        "colors": [
                                            "#00188f",
                                            "#00188f",
                                            "#00188f"
                                        ],
                                        "valueColorMapping": [
                                            {
                                                "value": "Healthy",
                                                "color": "#009e49"
                                            },
                                            {
                                                "value": "Warning",
                                                "color": "#fff100"
                                            },
                                            {
                                                "value": "Critical",
                                                "color": "#ba141a"
                                            }
                                        ],
                                        "legend": true,
                                        "skipLegendPositioning": true,
                                        "center": true,
                                        "unitType": "Count",
                                        "fromUnit": "Ones"
                                    },
                                    "HideOtherLegend": true
                                },

                                "Advanced": {
                                    "DataFlowVerification": {
                                        "Enabled": false,
                                        "Query": "search * | limit 1 | project TimeGenerated",
                                        "Message": ""
                                    }
                                }
                            }

                        }
                    }
                }
            ]
        }
    ]
}